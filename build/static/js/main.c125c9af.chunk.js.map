{"version":3,"sources":["pages/home/Home.module.css","components/Navbar.module.css","pages/login/Login.module.css","pages/signup/Signup.module.css","firebase/config.js","context/AuthContext.js","hooks/useAuthContext.js","hooks/useFirestore.js","pages/home/TransactionForm.js","pages/home/TransactionList.js","pages/home/Home.js","hooks/useCollection.js","hooks/useLogin.js","pages/login/Login.js","hooks/useSignup.js","pages/signup/Signup.js","hooks/useLogout.js","components/Navbar.js","pages/home/BaseHome.js","App.js","index.js"],"names":["module","exports","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","db","firestore","dbAuth","auth","timestamp","Timestamp","AuthContext","createContext","authReducer","state","action","type","user","payload","authIsReady","AuthContextProvider","children","useReducer","dispatch","useEffect","unsub","onAuthStateChanged","console","log","Provider","value","useAuthContext","context","useContext","Error","initialState","document","isPending","error","success","firestoreReducer","useFirestore","collection","response","useState","isCancelled","setIsCancelled","ref","dispatchIfNotCancelled","addDocument","doc","a","doccreatedAt","fromDate","Date","add","createdAt","addedDocument","message","delDocument","id","delete","TransactionForm","uid","name","setName","amount","setAmount","onSubmit","e","preventDefault","required","onChange","target","TransactionList","transactions","className","styles","map","transaction","onClick","Home","_query","documents","setDocuments","serError","query","useRef","current","where","onSnapshot","snapshot","results","docs","forEach","push","data","useCollection","container","content","sidebar","Login","email","setEmail","password","setPassword","setError","setIsPending","login","signInWithEmailAndPassword","res","useLogin","disabled","Signup","username","setUsername","signup","createUserWithEmailAndPassword","updateProfile","displayName","useSignup","Navbar","logout","signOut","useLogout","navbar","title","to","BaseHome","App","exact","path","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c125c9af.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Home_container__2lDpo\",\"content\":\"Home_content__1dO_-\",\"sidebar\":\"Home_sidebar__TLpaU\",\"transactions\":\"Home_transactions__2-UhT\",\"name\":\"Home_name__1kjvE\",\"amount\":\"Home_amount__2j6xl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"Navbar_navbar__3gkqs\",\"title\":\"Navbar_title__1pNMA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login-form\":\"Login_login-form__1o4IZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"signup-form\":\"Signup_signup-form__ya9jz\"};","//firebase 8.5//\n\nimport firebase from \"firebase/app\";\nimport \"firebase/firestore\";\nimport \"firebase/auth\";\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyA_SiRmb60NmDWVcX15FyvzxuSi5pX4Fgw\",\n  authDomain: \"mymoney1-554b9.firebaseapp.com\",\n  projectId: \"mymoney1-554b9\",\n  storageBucket: \"mymoney1-554b9.appspot.com\",\n  messagingSenderId: \"674929409639\",\n  appId: \"1:674929409639:web:3da666161d6953c0a8dec2\",\n};\n\n// init firebase\nfirebase.initializeApp(firebaseConfig);\n\n// init services\nconst db = firebase.firestore();\nconst dbAuth = firebase.auth();\n\n//timestamp\nconst timestamp = firebase.firestore.Timestamp;\n\nexport { db, dbAuth, timestamp };\n","// update state all at once, hence using createContext\r\n// useReducer is used to keep all the login in one pace\r\n\r\nimport { createContext, useReducer } from \"react\";\r\nimport { useEffect } from \"react\"\r\nimport { dbAuth } from \"../firebase/config\";\r\n\r\nexport const AuthContext = createContext();\r\n\r\nexport const authReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"LOGIN\":\r\n      return { ...state, user: action.payload };\r\n    case \"AUTH_IS_READY\":\r\n      return { ...state, user: action.payload, authIsReady: true };  \r\n    case \"LOGOUT\":\r\n      return{ ...state, user: null }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport function AuthContextProvider({ children }) {\r\n  const [state, dispatch] = useReducer(authReducer, {\r\n    user: null,\r\n    authIsReady :false\r\n  });\r\n\r\n// will run only once... onAuthStateChanged will look with firebase whne there is a chage in auth status\r\nuseEffect(() => {\r\n    const unsub =  dbAuth.onAuthStateChanged((user)=>{\r\n        dispatch({type: \"AUTH_IS_READY\", payload: user})\r\n        unsub()\r\n  })\r\n\r\n},[])\r\n\r\n\r\n  console.log(state);\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ ...state, dispatch }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n}\r\n","import { useContext } from \"react\";\r\nimport { AuthContext } from \"../context/AuthContext\";\r\n\r\nexport const useAuthContext = () => {\r\n  const context = useContext(AuthContext);\r\n\r\n  if (!context) {\r\n    throw new Error(\"Out of scope AuthContext/ trying to use outside of scope\");\r\n  }\r\n\r\n  return context;\r\n};\r\n","import { useEffect, useState, useReducer } from \"react\";\r\nimport { db, timestamp } from \"../firebase/config\";\r\n\r\nlet initialState = {\r\n  document: null,\r\n  isPending: false,\r\n  error: null,\r\n  success: null,\r\n};\r\n\r\nconst firestoreReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"IS_PENDING\":\r\n      return {\r\n        document: null,\r\n        isPending: true,\r\n        error: null,\r\n        success: null,\r\n      };\r\n    case \"ERROR\":\r\n      return {\r\n        document: null,\r\n        isPending: false,\r\n        error: action.payload,\r\n        success: false,\r\n      };\r\n    case \"ADDED_DOCUMENT\":\r\n      return {\r\n        document: action.payload,\r\n        isPending: false,\r\n        error: null,\r\n        success: true,\r\n      };\r\n    case \"DELETED_DOCUMENT\":\r\n      return {\r\n        document: null,\r\n        isPending: false,\r\n        error: null,\r\n        success: true,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const useFirestore = (collection) => {\r\n  const [response, dispatch] = useReducer(firestoreReducer, initialState); ///initialState = state //response we can rename to any like \"state\"\r\n  const [isCancelled, setIsCancelled] = useState(false);\r\n\r\n  //collection database referance\r\n  const ref = db.collection(collection);\r\n\r\n  //dispatch only if the is not Cancelled\r\n  const dispatchIfNotCancelled = (action) => {\r\n    if (!isCancelled) {\r\n      dispatch(action);\r\n    }\r\n  };\r\n\r\n  //add documnet\r\n  const addDocument = async (doc) => {\r\n    dispatchIfNotCancelled({ type: \"IS_PENDING\" });\r\n    try {\r\n      const doccreatedAt = timestamp.fromDate(new Date());\r\n      const addedDocument = await ref.add({ ...doc, createdAt: doccreatedAt }); // doc includes name and amount from TransactionForm.js createdAt is a firebase propeties\r\n      dispatchIfNotCancelled({\r\n        type: \"ADDED_DOCUMENT\",\r\n        payload: addedDocument,\r\n      });\r\n    } catch (err) {\r\n      dispatchIfNotCancelled({ type: \"ERROR\", payload: err.message });\r\n    }\r\n  };\r\n\r\n  //del documnet\r\n  const delDocument = async (id) => {\r\n    dispatchIfNotCancelled({ type: \"IS_PENDING\" });\r\n\r\n    try {\r\n      await ref.doc(id).delete();\r\n      dispatchIfNotCancelled({ type: \"DELETE_DOCUMENT\" });\r\n    } catch (err) {\r\n      dispatchIfNotCancelled({ type: \"ERROR\", payload: err.message });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      setIsCancelled(true);\r\n    };\r\n  }, []);\r\n\r\n  return { addDocument, delDocument, response };\r\n};\r\n","import { useState, useEffect } from 'react'\r\nimport { useFirestore } from '../../hooks/useFirestore'\r\n\r\nexport default function TransactionForm({ uid }) {\r\n  const [name, setName] = useState('')\r\n  const [amount, setAmount] = useState('')\r\n  const { addDocument, response } = useFirestore('transactions')\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault()\r\n    addDocument({\r\n      uid, \r\n      name, \r\n      amount,\r\n    })\r\n  }\r\n\r\n  // reset the form fields\r\n  useEffect(() => {\r\n    if (response.success) {\r\n      setName('')\r\n      setAmount('')\r\n    }\r\n  }, [response.success])\r\n\r\n  return (\r\n    <>\r\n      <h3>Add a Transaction</h3>\r\n      <form onSubmit={handleSubmit}>\r\n        <label>\r\n          <span>Transaction name:</span>\r\n          <input \r\n            type=\"text\"\r\n            required\r\n            onChange={(e) => setName(e.target.value)} \r\n            value={name} \r\n          />\r\n        </label>\r\n        <label>\r\n          <span>Amount (₹):</span>\r\n          <input\r\n            type=\"number\"\r\n            required\r\n            onChange={(e) => setAmount(e.target.value)} \r\n            value={amount} \r\n          />\r\n        </label>\r\n        <button>Add Transaction</button>\r\n      </form>\r\n    </>\r\n  )\r\n}","import { useFirestore } from '../../hooks/useFirestore'\r\n\r\n// styles\r\nimport styles from './Home.module.css'\r\n\r\nexport default function TransactionList({ transactions }) {\r\n  const { delDocument } = useFirestore(\"transactions\");\r\n\r\n  return (\r\n    <ul className={styles.transactions}>\r\n      {transactions.map((transaction) => (\r\n        <li key={transaction.id}>\r\n          <p className={styles.name}>{transaction.name}</p>\r\n          <p className={styles.amount}>₹{transaction.amount}</p>\r\n          <button onClick={() => delDocument(transaction.id)}>x</button>\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  )\r\n}","import { useAuthContext } from \"../../hooks/useAuthContext\";\nimport { useCollection } from \"../../hooks/useCollection\";\n\n//components\nimport TransactionForm from \"./TransactionForm\";\nimport TransactionList from \"./TransactionList\";\n\n// styles\nimport styles from \"./Home.module.css\";\n\nexport default function Home() {\n  const { user } = useAuthContext();\n  const { documents, error } = useCollection(\n    \"transactions\",\n    [\"uid\", \"==\", user.uid],\n  );\n\n  return (\n    <div className={styles.container}>\n      <div className={styles.content}>\n        {error && <p>{error}</p>}\n        {documents && <TransactionList transactions={documents} />}\n      </div>\n      <div className={styles.sidebar}>\n        <TransactionForm uid={user.uid} />\n      </div>\n    </div>\n  );\n}\n","import { useEffect, useRef, useState } from \"react\";\r\nimport { db } from \"../firebase/config\";\r\n\r\nexport const useCollection = (collection, _query) => {\r\n  const [documents, setDocuments] = useState(null);\r\n  const [error, serError] = useState(null);\r\n\r\n  const query = useRef(_query).current;\r\n\r\n  useEffect(() => {\r\n    let ref = db.collection(collection);\r\n\r\n    if (query) {\r\n      ref = ref.where(...query);\r\n    }\r\n\r\n    const unsub = ref.onSnapshot(\r\n      (snapshot) => {\r\n        let results = [];\r\n        snapshot.docs.forEach((doc) => {\r\n          results.push({ ...doc.data(), id: doc.id });\r\n        });\r\n\r\n        //upddate state\r\n        setDocuments(results);\r\n        serError(null);\r\n      },\r\n      (error) => {\r\n        console.log(error);\r\n        serError(\"Data Fetch Failed\");\r\n      }\r\n    );\r\n    // unsubscribe on unmount\r\n    return () => unsub();\r\n  }, [collection, query]);\r\n\r\n  return { documents, error };\r\n};\r\n","import { useState, useEffect } from \"react\";\r\nimport { dbAuth } from \"../firebase/config\"; //db = firebase.firestore() | dbAuth = firebase.auth();\r\nimport { useAuthContext } from \"./useAuthContext\";\r\n\r\nexport const useLogin = () => {\r\n  const [error, setError] = useState(null);\r\n  const [isPending, setIsPending] = useState(false);\r\n  const { dispatch } = useAuthContext();\r\n  //cleanup function --- wont throw error if the component unmounts\r\n  const [isCancelled, setIsCancelled] = useState(false);\r\n\r\n  const login = async (email, password ) => {\r\n    setIsPending(true);\r\n    setError(null);\r\n\r\n    try {\r\n      // login the user logic\r\n      const res = await dbAuth.signInWithEmailAndPassword(email, password); //this returns a response hence we are storing\r\n      //console.log(res.user);\r\n      if (!res) {\r\n        throw new Error(\"Login-Failed!\"); //incase of firebase side error\r\n      }\r\n\r\n      //dispatch action\r\n      dispatch({ type: \"LOGIN\", payload: res.user }); // this fires authReducer\r\n      // useAuthContext -> AuthContext -> AuthContextProvider ->useReducer ->authReducer -> dispatch\r\n\r\n      if (!isCancelled) {\r\n        setIsPending(false);\r\n        setError(null);\r\n      }\r\n    } catch (err) {\r\n      console.log(err.message);\r\n      if (!isCancelled) {\r\n        setError(err.message);\r\n        setIsPending(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  //cleanup function --- wont throw error if the component unmounts\r\n  useEffect(() => {\r\n    return () => {\r\n      setIsCancelled(true);\r\n    };\r\n  }, []);\r\n\r\n  return { error, isPending, login };\r\n};\r\n","import { useState } from 'react'\nimport { useLogin } from '../../hooks/useLogin'\n\n// styles\nimport styles from './Login.module.css'\n\nexport default function Login() {\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  const { error, isPending, login } = useLogin()\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    login(email, password)\n  }\n\n  return (\n    <form onSubmit={handleSubmit} className={styles['login-form']}>\n      <h2>login</h2>\n      <label>\n        <span>email:</span>\n        <input \n          type=\"email\" \n          onChange={(e) => setEmail(e.target.value)} \n          value={email}\n        />\n      </label>\n      <label>\n        <span>password:</span>\n        <input \n          type=\"password\" \n          onChange={(e) => setPassword(e.target.value)} \n          value={password} \n        />\n      </label>\n      {!isPending && <button className=\"btn\" onClick={login}>Login</button>}\n      {isPending && <button className=\"btn\" disabled>Loading</button>}\n      {error && <p>{error}</p>}\n    </form>\n  )\n}\n","import { useState, useEffect } from \"react\";\r\nimport { dbAuth } from \"../firebase/config\"; //db = firebase.firestore() | dbAuth = firebase.auth();\r\nimport { useAuthContext } from \"./useAuthContext\";\r\n\r\nexport const useSignup = () => {\r\n  const [error, setError] = useState(null);\r\n  const [isPending, setIsPending] = useState(false);\r\n  const { dispatch } = useAuthContext();\r\n  //cleanup function --- wont throw error if the component unmounts\r\n  const [isCancelled, setIsCancelled] = useState(false);\r\n\r\n  const signup = async (email, password, username) => {\r\n    setIsPending(true);\r\n    setError(null);\r\n\r\n    try {\r\n      // signup the user logic\r\n      const res = await dbAuth.createUserWithEmailAndPassword(email, password); //this returns a response hence we are storing\r\n      //console.log(res.user);\r\n      if (!res) {\r\n        throw new Error(\"Signup-Failed!\"); //incase of firebase side error\r\n      }\r\n      // adding the username\r\n      await res.user.updateProfile({ displayName: username });\r\n\r\n      //dispatch action\r\n      dispatch({ type: \"LOGIN\", payload: res.user }); // this fires authReducer\r\n      // useAuthContext -> AuthContext -> AuthContextProvider ->useReducer ->authReducer -> dispatch\r\n\r\n      if (!isCancelled) {\r\n        setIsPending(false);\r\n        setError(null);\r\n      }\r\n    } catch (err) {\r\n      console.log(err.message);\r\n      if (!isCancelled) {\r\n        setError(err.message);\r\n        setIsPending(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  //cleanup function --- wont throw error if the component unmounts\r\n  useEffect(() => {\r\n    return () => {\r\n      setIsCancelled(true);\r\n    };\r\n  }, []);\r\n\r\n  return { error, isPending, signup };\r\n};\r\n","import { useState } from \"react\";\nimport { useSignup } from \"../../hooks/useSignup\";\n\n// styles\nimport styles from \"./Signup.module.css\";\n\nexport default function Signup() {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [username, setUsername] = useState(\"\");\n  const { error, isPending, signup } = useSignup();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    signup(email, password, username);\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className={styles[\"signup-form\"]}>\n      <h2>sign up</h2>\n      <label>\n        <span>email:</span>\n        <input\n          type=\"email\"\n          onChange={(e) => setEmail(e.target.value)}\n          value={email}\n        />\n      </label>\n      <label>\n        <span>password:</span>\n        <input\n          type=\"password\"\n          onChange={(e) => setPassword(e.target.value)}\n          value={password}\n        />\n      </label>\n      <label>\n        <span>username:</span>\n        <input\n          type=\"text\"\n          onChange={(e) => setUsername(e.target.value)}\n          value={username}\n        />\n      </label>\n      {!isPending && <button className=\"btn\">Sign up</button>}\n      {isPending && (\n        <button className=\"btn\" disabled>\n          Loading...\n        </button>\n      )}\n      {error && <p>{error}</p>}\n    </form>\n  );\n}\n","import { useEffect, useState } from \"react\";\r\nimport { dbAuth } from \"../firebase/config\"; //db = firebase.firestore() | dbAuth = firebase.auth();\r\nimport { useAuthContext } from \"./useAuthContext\";\r\n\r\nexport const useLogout = () => {\r\n  const [error, setError] = useState(null);\r\n  const [isPending, setIsPending] = useState(false);\r\n  const { dispatch } = useAuthContext();\r\n  //cleanup function --- wont throw error if the component unmounts\r\n  const [isCancelled, setIsCancelled] = useState(false);\r\n\r\n  const logout = async () => {\r\n    setIsPending(true);\r\n    setError(null);\r\n\r\n    try {\r\n      // logout the user\r\n      await dbAuth.signOut(); //we are wating fot the user to logout so we dont pass the dispatch before that\r\n\r\n      //dispatch action\r\n      dispatch({ type: \"LOGOUT\" }); // this fires authReducer\r\n      // useAuthContext -> AuthContext -> AuthContextProvider ->useReducer ->authReducer -> dispatch\r\n\r\n      if (!isCancelled) {\r\n        setIsPending(false);\r\n        setError(null);\r\n      }\r\n    } catch (err) {\r\n      if (!isCancelled) {\r\n        console.log(err.message);\r\n\r\n        setError(err.message);\r\n        setIsPending(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  //cleanup function --- wont throw error if the component unmounts\r\n  useEffect(() => {\r\n    return () => {\r\n      setIsCancelled(true);\r\n    };\r\n  }, []);\r\n\r\n  return { error, isPending, logout };\r\n};\r\n","import { Link } from \"react-router-dom\";\nimport { useLogout } from \"../hooks/useLogout\";\nimport { useAuthContext } from \"../hooks/useAuthContext\";\n\n// styles\nimport styles from \"./Navbar.module.css\";\n\nexport default function Navbar() {\n  const { user } = useAuthContext();\n  const { logout } = useLogout();\n\n  return (\n    <nav className={styles.navbar}>\n      <ul>\n        <li className={styles.title}>\n          <Link to=\"/home\">🤖 myMoney</Link>\n        </li>\n\n        {!user && (\n          <>\n            <li><Link to=\"/login\">Login</Link></li>\n            <li><Link to=\"/signup\">Signup</Link></li>\n          </>\n        )}\n        \n        {user && (\n          <>\n            <li>Hello, {user.displayName}</li>\n            <li><button onClick={logout} className=\"btn\">Logout</button></li>\n          </>\n        )}\n\n      </ul>\n    </nav>\n  );\n}\n","// styles\r\nimport \"./BaseHome.css\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\nexport default function BaseHome() {\r\n  return (\r\n    <div className=\"base-home\">\r\n      <h1 className=\"base-brand\">🤖 myMoney</h1>\r\n      <h1 className=\"base-welcome\">Welcome User!</h1>\r\n      <h2 className=\"base-head\">This App lets you keep track of your transactions!!</h2>\r\n      <p className=\"base-body\">\r\n        Please{\" \"}\r\n        <Link to=\"/signup\" className=\"link\">\r\n          Sign-up\r\n        </Link>{\" \"}\r\n        or{\" \"}\r\n        <Link to=\"/login\" className=\"link\">\r\n          Login\r\n        </Link>{\" \"}\r\n        to get the expericence.{\" \"}\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n","import { BrowserRouter, Route, Switch, Redirect } from \"react-router-dom\";\nimport { useAuthContext } from \"./hooks/useAuthContext\";\n\n// pages & components\nimport Home from \"./pages/home/Home\";\nimport Login from \"./pages/login/Login\";\nimport Signup from \"./pages/signup/Signup\";\nimport Navbar from \"./components/Navbar\";\nimport BaseHome from \"./pages/home/BaseHome\";\n\nfunction App() {\n  const { authIsReady, user } = useAuthContext();\n\n  return (\n    <div className=\"App\">\n      {authIsReady && (\n        <BrowserRouter>\n          <Navbar />\n          <Switch>\n            <Route exact path=\"/\">\n              {!user && <Redirect to=\"/home\" />}\n              {user && <Home />}\n            </Route>\n            <Route path=\"/home\">\n              {user && <Redirect to=\"/\" />}\n              {!user && <BaseHome />}\n            </Route>\n            <Route path=\"/login\">\n              {user && <Redirect to=\"/\" />}\n              {!user && <Login />}\n            </Route>\n            <Route path=\"/signup\">\n              {user && <Redirect to=\"/\" />}\n              {!user && <Signup />}\n            </Route>\n          </Switch>\n        </BrowserRouter>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport { AuthContextProvider } from \"./context/AuthContext\"\nimport \"./index.css\";\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <AuthContextProvider>\n      <App />\n    </AuthContextProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}